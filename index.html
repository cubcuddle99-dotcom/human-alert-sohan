<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡¶°‡ßá‡¶° ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ú‡¶ø‡¶ï ‡¶ó‡¶£‡¶®‡¶æ</title>

<style>
:root{--bg:#f5f7fb;--text:#222;--card:#fff;--primary:#4f46e5}
body.dark{--bg:#0f172a;--text:#e5e7eb;--card:#1e293b;--primary:#22c55e}
body{margin:0;font-family:system-ui,"Noto Sans Bengali",sans-serif;background:var(--bg);color:var(--text)}
.container{max-width:520px;margin:20px auto;padding:15px}
.card{background:var(--card);border-radius:14px;padding:20px;box-shadow:0 10px 25px rgba(0,0,0,.1)}
input,button,select{width:100%;padding:12px;margin-top:10px;border-radius:8px;border:1px solid #ccc}
button{background:var(--primary);color:#fff;border:none;cursor:pointer}
.result{margin-top:15px;line-height:1.7}
.ai-box{margin-top:15px;padding:12px;border-left:5px solid var(--primary);background:rgba(0,0,0,.05);border-radius:8px}
.top{display:flex;gap:10px}
.small-btn{flex:1}
.header{text-align:center;margin-bottom:10px}
.header h1{margin:5px 0}
.header small{opacity:.7}
canvas{margin-top:10px}
</style>
</head>

<body>
<div class="container">
<div class="card">

<div class="top">
<select id="lang">
<option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
<option value="en">English</option>
</select>
<button onclick="toggleTheme()" class="small-btn">üåô / ‚òÄÔ∏è</button>
</div>

<div class="header">
  <h1 id="title">‡¶°‡ßá‡¶° ‡¶ó‡¶£‡¶®‡¶æ</h1>
  <small>Created by MD SOHAN MONDAL</small>
</div>

<label id="dobLabel">‡¶ú‡¶®‡ßç‡¶Æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</label>
<input type="date" id="dob">

<button onclick="calculateAge()" id="calcBtn">‡¶¨‡ßü‡¶∏ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶®</button>

<div class="result" id="output"></div>
<div class="ai-box" id="ai"></div>

<button onclick="downloadCard()">‚¨á Age Card</button>
<button onclick="generateQR()">üì∑ QR Code</button>

<canvas id="cardCanvas" width="400" height="220" style="display:none"></canvas>
<canvas id="qrCanvas" width="200" height="200" style="display:none"></canvas>

</div>
</div>

<script>
let birthDate,timer,currentLang="bn";
function toggleTheme(){document.body.classList.toggle("dark")}
lang.onchange=e=>{currentLang=e.target.value;updateLang()}

function updateLang(){
title.innerText=currentLang=="bn"?"‡¶°‡ßá‡¶° ‡¶ó‡¶£‡¶®‡¶æ":"Age Magic Calculator";
dobLabel.innerText=currentLang=="bn"?"‡¶ú‡¶®‡ßç‡¶Æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®":"Select Date of Birth";
calcBtn.innerText=currentLang=="bn"?"‡¶¨‡ßü‡¶∏ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶®":"Calculate Age";
}

function calculateAge(){
clearInterval(timer);
if(!dob.value){alert("‡¶ú‡¶®‡ßç‡¶Æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶¶‡¶ø‡¶®");return;}
birthDate=new Date(dob.value);
update();
timer=setInterval(update,1000);
}

function update(){
const now=new Date();
const sec=Math.floor((now-birthDate)/1000);
const days=Math.floor(sec/86400);

let y=now.getFullYear()-birthDate.getFullYear();
let m=now.getMonth()-birthDate.getMonth();
let d=now.getDate()-birthDate.getDate();
if(d<0){m--;d+=30} if(m<0){y--;m+=12}

const hijri=new Intl.DateTimeFormat('en-TN-u-ca-islamic',{dateStyle:'long'}).format(birthDate);
const bangla=Math.floor(y*0.97);

let milestone="";
if(days>=20000) milestone="üèÜ ‡ß®‡ß¶,‡ß¶‡ß¶‡ß¶ ‡¶¶‡¶ø‡¶® ‡¶™‡ßÇ‡¶∞‡ßç‡¶£!";
else if(days>=10000) milestone="üéâ ‡ßß‡ß¶,‡ß¶‡ß¶‡ß¶ ‡¶¶‡¶ø‡¶® ‡¶™‡ßÇ‡¶∞‡ßç‡¶£!";
else if(days>=5000) milestone="‚ú® ‡ß´,‡ß¶‡ß¶‡ß¶ ‡¶¶‡¶ø‡¶® ‡¶™‡ßÇ‡¶∞‡ßç‡¶£!";

output.innerHTML=`
<b>${currentLang=="bn"?"‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßü‡¶∏":"Your Age"}:</b><br>
${y} ‡¶¨‡¶õ‡¶∞ ${m} ‡¶Æ‡¶æ‡¶∏ ${d} ‡¶¶‡¶ø‡¶®<br>
‚è± ${sec.toLocaleString()} ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°<br>
üìÖ ‡¶Æ‡ßã‡¶ü ‡¶¶‡¶ø‡¶®: ${days}<br><br>
üáßüá© ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶¨‡ßü‡¶∏: ${bangla} ‡¶¨‡¶õ‡¶∞<br>
‚ò™ ‡¶π‡¶ø‡¶ú‡¶∞‡¶ø ‡¶ú‡¶®‡ßç‡¶Æ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: ${hijri}<br><br>
${milestone}
`;

ai.innerHTML=generateAI(y);
drawCard(y,m,d,days);
}

function generateAI(age){
if(currentLang=="bn"){
if(age<20) return "üß† ‡¶Ü‡¶™‡¶®‡¶ø ‡¶∂‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡ßü‡ßá ‡¶Ü‡¶õ‡ßá‡¶®‡•§ ‡¶∏‡ßç‡¶ï‡¶ø‡¶≤ ‡¶ì ‡¶Ü‡¶§‡ßç‡¶Æ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏ ‡¶ó‡ßú‡ßÅ‡¶®‡•§";
if(age<30) return "üß† ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡ßü‡¶æ‡¶∞ ‡¶ì ‡¶∏‡¶û‡ßç‡¶ö‡ßü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡ßá‡¶∞‡¶æ ‡¶∏‡¶Æ‡ßü‡•§";
if(age<45) return "üß† ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶ì ‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¶‡¶ø‡¶ï‡ßá ‡¶Æ‡¶®‡ßã‡¶Ø‡ßã‡¶ó ‡¶¶‡¶ø‡¶®‡•§";
return "üß† ‡¶Æ‡¶æ‡¶®‡¶∏‡¶ø‡¶ï ‡¶∂‡¶æ‡¶®‡ßç‡¶§‡¶ø ‡¶ì ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ‡¶á ‡¶è‡¶ñ‡¶® ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡¶¨‡¶æ‡¶®‡•§";
}else{
if(age<20) return "üß† Learning phase. Build skills and confidence.";
if(age<30) return "üß† Best time for career growth and savings.";
if(age<45) return "üß† Focus on health and family.";
return "üß† Focus on peace, health and legacy.";
}
}

function drawCard(y,m,d,days){
const c=cardCanvas,x=c.getContext("2d");
x.fillStyle="#4f46e5";x.fillRect(0,0,400,220);
x.fillStyle="#fff";x.font="bold 18px sans-serif";
x.fillText("Age Card",20,30);
x.font="16px sans-serif";
x.fillText(`${y}y ${m}m ${d}d`,20,80);
x.fillText(`Days: ${days}`,20,120);
}

function downloadCard(){
const a=document.createElement("a");
a.download="age-card.png";
a.href=cardCanvas.toDataURL();
a.click();
}

function generateQR(){
const img=new Image();
img.src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data="+encodeURIComponent(output.innerText);
img.onload=()=>{qrCanvas.getContext("2d").drawImage(img,0,0);qrCanvas.style.display="block";}
}
</script>
</body>
</html>

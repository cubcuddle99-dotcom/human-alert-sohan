<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Human Detection - Mobile Optimized</title>
<style>
    body { margin:0; background:#000; overflow:hidden; }
    video { width:100vw; height:100vh; object-fit:cover; }
    #alertBox {
        position:fixed; bottom:20px; left:50%; transform:translateX(-50%);
        background:red; color:#fff; padding:12px 20px;
        font-size:20px; border-radius:10px; display:none;
    }
</style>
</head>
<body>

<video id="cam" autoplay playsinline></video>
<div id="alertBox">ðŸš¨ Human Detected!</div>

<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>

<script>
(async () => {
    const constraints = {
        video: { width: { ideal: 320 }, height: { ideal: 240 }, facingMode: "environment" }
    };

    const video = document.getElementById("cam");
    video.srcObject = await navigator.mediaDevices.getUserMedia(constraints);

    const model = await cocoSsd.load();
    console.log("Model Loaded");

    async function detect() {
        const predictions = await model.detect(video);
        const humanFound = predictions.some(p => p.class === "person" && p.score > 0.6);

        const alertBox = document.getElementById("alertBox");

        if (humanFound) {
            alertBox.style.display = "block";
            if (navigator.vibrate) navigator.vibrate(200);
        } else {
            alertBox.style.display = "none";
        }

        requestAnimationFrame(detect);
    }

    detect();
})();
</script>

</body>
</html>
